import{d as C,e as A,c as m,a as n,w as f,u as h,F as k,o as i,Z as I,b as t,t as a,f as y,g as x,r as $,h as D,v as N}from"./app-2cac3384.js";import{_ as P}from"./AdminLayout-01e4b994.js";import{P as q}from"./Pagination-c0764a58.js";import j from"./CreateBank-d04c4457.js";import{D as S}from"./DeleteIcon-cf10fd1b.js";import{E as V}from"./EditIcon-a8ad6404.js";import{u as F}from"./useAPI-d04b5e55.js";import{u as L}from"./notification-c7ee7316.js";import{_ as O}from"./Spinner-dd5ccd9b.js";import R from"./EditBank-e9d52c6d.js";import"./ResponsiveNavLink-a7d45309.js";import"./FlashMessage-9f6c2265.js";import"./CustomSidebar-a20985df.js";import"./SidebarElement-5e7556c1.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./TextInput-ce71653f.js";import"./SelectInput-08f1fdd6.js";const Z=t("title",null,`
            Admin Panel | Banks
        `,-1),z={class:"ml-4 md:ml-16"},G={class:"mt-16 mb-8 text-xl flex items-center justify-between"},H=t("div",null," Banks ",-1),J={class:"text-sm"},K={class:"relative overflow-x-auto shadow-md sm:rounded-lg"},M={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"},Q=t("thead",{class:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"},[t("tr",null,[t("th",{class:"px-6 py-3",scope:"col"}," #ID "),t("th",{class:"px-6 py-3",scope:"col"}," Bank Name "),t("th",{class:"px-6 py-3",scope:"col"}," Country "),t("th",{class:"px-6 py-3",scope:"col"}," Actions ")])],-1),T={class:"px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white",scope:"row"},U={class:"px-6 py-4"},W={class:"px-6 py-4"},X={class:"px-6 py-4 flex gap-4 items-center"},Y={name:"Banks"},kt=Object.assign(Y,{props:{banks:{required:!0,type:Object},countries:{required:!0,type:Array}},setup(u){const e=u,d=F(),p=L(),b=()=>{e.banks.total++},c=C({}),g=s=>{c.value=s},v=()=>{c.value={}},w=s=>{let r=e.banks.data.findIndex(l=>l.id===s.id);e.banks.data.splice(r,1,s)},_=A(null),B=async s=>{_.value=s.id,d.startRequest();try{const r=await axios.delete("/admin/banks/delete/"+s.id);(r.data.id||r.data.status==="success")&&(p.notify("Bank deleted","success"),s.id="deleted",e.banks.total--)}catch(r){p.notify("Error","error"),d.handleErrors(r)}finally{d.requestCompleted()}};return(s,r)=>(i(),m(k,null,[n(h(I),{title:"Banks"},{default:f(()=>[Z]),_:1}),n(P,null,{default:f(()=>{var l;return[t("div",z,[t("div",G,[H,t("div",J," Page: "+a(e.banks.current_page)+" | total: "+a(e.banks.total)+" | from: "+a(e.banks.from)+", to: "+a(e.banks.to),1)]),n(j,{onBankAdded:b,countries:u.countries},null,8,["countries"]),(l=c.value)!=null&&l.id?(i(),y(R,{key:0,onEndEdit:v,onBankEdited:w,"edited-bank":c,countries:u.countries},null,8,["edited-bank","countries"])):x("",!0),t("div",K,[t("table",M,[Q,t("tbody",null,[(i(!0),m(k,null,$(e.banks.data,o=>D((i(),m("tr",{key:o.id,class:"bg-white border-b dark:bg-gray-900 dark:border-gray-700"},[t("th",T,a(o.id),1),t("td",U,a(o.label),1),t("td",W,a(o.country.label)+" ("+a(o.country.code)+") ",1),t("td",X,[n(S,{onClick:E=>B(o),class:"w-8 hover:cursor-pointer hover:bg-red-600 hover:text-white rounded-md p-1"},null,8,["onClick"]),n(V,{onClick:E=>g(o),class:"w-8 hover:cursor-pointer hover:bg-blue-600 hover:text-white rounded-md p-1"},null,8,["onClick"]),h(d).isLoading.value&&_.value===o.id?(i(),y(O,{key:0,class:"button-spinner-center action-btn"})):x("",!0)])])),[[N,o.id!=="deleted"]])),128))])])]),n(q,{links:e.banks.links},null,8,["links"])])]}),_:1})],64))}});export{kt as default};
