import{e as S,d as q,c as A,b as a,h as U,v as N,a as s,u as l,f as O,g as B,o as V}from"./app-2cac3384.js";import{u as E}from"./useAPI-d04b5e55.js";import{u as I}from"./notification-c7ee7316.js";import{_ as u}from"./TextInput-ce71653f.js";import{_ as c}from"./SelectInput-08f1fdd6.js";import{_ as $}from"./Spinner-dd5ccd9b.js";const Y={class:"border-gray-400 border rounded-lg p-6 mb-8"},j={class:"flex flex-wrap gap-6 mb-10"},D={class:"flex gap-4 items-center"},F={name:"CreateCountry"},J=Object.assign(F,{props:{currencies:{type:Array,required:!0}},emits:["countryAdded"],setup(x,{emit:k}){const o=E(),i=I(),d=S(!1),C=()=>{d.value=!0},m=()=>{d.value=!1,o.errors.value={},h()},e=q({label:"",code:"",code_iso_2:"",can_send:"",can_receive:"",currency_id:null}),b=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],h=()=>{e.label="",e.country_id=null},w=async()=>{o.startRequest();try{const n=await axios.post("/admin/countries/store",e);(n.data.id||n.data.status==="success")&&(i.notify("Country added","success"),m(),k("countryAdded"))}catch(n){i.notify("Error","error"),o.handleErrors(n)}finally{o.requestCompleted()}};return(n,r)=>{var p,f,y,g,_,v;return V(),A("div",null,[a("button",{onClick:C,type:"button",class:"mb-8 text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800"}," Add new country "),U(a("form",Y,[a("div",j,[s(u,{modelValue:e.label,"onUpdate:modelValue":r[0]||(r[0]=t=>e.label=t),errors:(p=l(o).errors.value)==null?void 0:p.label,label:"Country Name",placeholder:"United States of America",required:"",title:"label"},null,8,["modelValue","errors"]),s(u,{modelValue:e.code,"onUpdate:modelValue":r[1]||(r[1]=t=>e.code=t),errors:(f=l(o).errors.value)==null?void 0:f.code,label:"Code ISO 3",placeholder:"USA",required:"",title:"code"},null,8,["modelValue","errors"]),s(u,{modelValue:e.code_iso_2,"onUpdate:modelValue":r[2]||(r[2]=t=>e.code_iso_2=t),errors:(y=l(o).errors.value)==null?void 0:y.code_iso_2,label:"Code ISO 2",placeholder:"US",required:"",title:"code_iso_2"},null,8,["modelValue","errors"]),s(c,{modelValue:e.can_send,"onUpdate:modelValue":r[3]||(r[3]=t=>e.can_send=t),errors:(g=l(o).errors.value)==null?void 0:g.can_send,options:b,label:"Can send",required:"",placeholder:" Select ",title:"can_send",type:"text"},null,8,["modelValue","errors"]),s(c,{modelValue:e.can_receive,"onUpdate:modelValue":r[4]||(r[4]=t=>e.can_receive=t),errors:(_=l(o).errors.value)==null?void 0:_.can_receive,options:b,label:"Can receive",required:"",placeholder:" Select ",title:"can_receive",type:"text"},null,8,["modelValue","errors"]),s(c,{modelValue:e.currency_id,"onUpdate:modelValue":r[5]||(r[5]=t=>e.currency_id=t),errors:(v=l(o).errors.value)==null?void 0:v.currency_id,options:x.currencies,label:"Currency",required:"",placeholder:" Select ",title:"currency_id",type:"text","value-accessor":"id","label-accessor":"name"},null,8,["modelValue","errors","options"])]),a("div",D,[a("button",{onClick:w,type:"button",class:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm w-full sm:w-auto px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800"}," Add "),a("button",{type:"button",onClick:m,class:"text-gray-900 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"}," Cancel "),l(o).isLoading.value?(V(),O($,{key:0,class:"button-spinner-center action-btn"})):B("",!0)])],512),[[N,d.value]])])}}});export{J as default};
